(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{26:(e,s,t)=>{"use strict";t.d(s,{JobsFiltersWrapper:()=>ex});var a=t(5155),n=t(2115),l=t(3008),r=t(6932),i=t(7863),d=t(6474),c=t(9074),o=t(3332),x=t(4213),u=t(4416),h=t(7168),m=t(2355),j=t(3052),p=t(9531),f=t(3999);function g(e){let{className:s,classNames:t,showOutsideDays:n=!0,...l}=e;return(0,a.jsx)(p.hv,{showOutsideDays:n,className:(0,f.cn)("p-3",s),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:(0,f.cn)((0,h.r)({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:(0,f.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===l.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,f.cn)((0,h.r)({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{className:s,...t}=e;return(0,a.jsx)(m.A,{className:(0,f.cn)("size-4",s),...t})},IconRight:e=>{let{className:s,...t}=e;return(0,a.jsx)(j.A,{className:(0,f.cn)("size-4",s),...t})}},...l})}var v=t(5139),b=t(9852),N=t(2714),y=t(547);function w(e){let{...s}=e;return(0,a.jsx)(y.bL,{"data-slot":"popover",...s})}function A(e){let{...s}=e;return(0,a.jsx)(y.l9,{"data-slot":"popover-trigger",...s})}function C(e){let{className:s,align:t="center",sideOffset:n=4,...l}=e;return(0,a.jsx)(y.ZL,{children:(0,a.jsx)(y.UC,{"data-slot":"popover-content",align:t,sideOffset:n,className:(0,f.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",s),...l})})}var k=t(4073);function R(e){let{className:s,defaultValue:t,value:l,min:r=0,max:i=100,...d}=e,c=n.useMemo(()=>Array.isArray(l)?l:Array.isArray(t)?t:[r,i],[l,t,r,i]);return(0,a.jsxs)(k.bL,{"data-slot":"slider",defaultValue:t,value:l,min:r,max:i,className:(0,f.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",s),...d,children:[(0,a.jsx)(k.CC,{"data-slot":"slider-track",className:(0,f.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,a.jsx)(k.Q6,{"data-slot":"slider-range",className:(0,f.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(e,s)=>(0,a.jsx)(k.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},s))]})}var S=t(6037),_=t(8145),z=t(8106);function F(e){let{...s}=e;return(0,a.jsx)(z.bL,{"data-slot":"collapsible",...s})}function E(e){let{...s}=e;return(0,a.jsx)(z.Ke,{"data-slot":"collapsible-content",...s})}var P=t(3464),L=t(5891),D=t(8524),J=t(7133),O=t(9840),$=t(6559),M=t(7737),T=t(3904),V=t(4616),W=t(5623),G=t(2657),I=t(5690),H=t(8833),q=t(4695),U=t(3717),B=t(4126),K=t(2997),Q=t(704);function X(e){let{className:s,...t}=e;return(0,a.jsx)(Q.bL,{"data-slot":"tabs",className:(0,f.cn)("flex flex-col gap-2",s),...t})}function Z(e){let{className:s,...t}=e;return(0,a.jsx)(Q.B8,{"data-slot":"tabs-list",className:(0,f.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function Y(e){let{className:s,...t}=e;return(0,a.jsx)(Q.l9,{"data-slot":"tabs-trigger",className:(0,f.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function ee(e){let{className:s,...t}=e;return(0,a.jsx)(Q.UC,{"data-slot":"tabs-content",className:(0,f.cn)("flex-1 outline-none",s),...t})}var es=t(7655);function et(e){let{className:s,children:t,...n}=e;return(0,a.jsxs)(es.bL,{"data-slot":"scroll-area",className:(0,f.cn)("relative",s),...n,children:[(0,a.jsx)(es.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),(0,a.jsx)(ea,{}),(0,a.jsx)(es.OK,{})]})}function ea(e){let{className:s,orientation:t="vertical",...n}=e;return(0,a.jsx)(es.VM,{"data-slot":"scroll-area-scrollbar",orientation:t,className:(0,f.cn)("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",s),...n,children:(0,a.jsx)(es.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var en=t(4861),el=t(4186),er=t(646),ei=t(5339);function ed(e){var s,t,r;let{job:i}=e,[d,x]=(0,n.useState)("overview"),u=e=>e?(0,l.GP)(new Date(e),"PPpp"):"Not set";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[i.disabled?(0,a.jsx)(q.A,{className:"h-5 w-5 text-muted-foreground"}):i.failedAt?(0,a.jsx)(en.A,{className:"h-5 w-5 text-destructive"}):i.nextRunAt?(0,a.jsx)(el.A,{className:"h-5 w-5 text-blue-500"}):(0,a.jsx)(er.A,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("h2",{className:"text-xl font-bold",children:i.name})]}),(0,a.jsx)(_.E,{variant:i.disabled?"outline":i.failedAt?"destructive":i.nextRunAt?"secondary":"default",children:i.disabled?"Disabled":i.failedAt?"Failed":i.nextRunAt?"Scheduled":"Completed"})]}),(0,a.jsxs)(X,{defaultValue:"overview",value:d,onValueChange:x,children:[(0,a.jsxs)(Z,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(Y,{value:"overview",children:"Overview"}),(0,a.jsx)(Y,{value:"data",children:"Data"}),(0,a.jsx)(Y,{value:"history",children:"History"})]}),(0,a.jsx)(ee,{value:"overview",className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Job ID"}),(0,a.jsx)("p",{className:"font-mono text-sm",children:i.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Priority"}),(0,a.jsx)("p",{children:i.priority})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Schedule Type"}),(0,a.jsx)("p",{children:(null==(s=i.repeating)?void 0:s.interval)?"Repeating":"One-time"})]}),(null==(t=i.repeating)?void 0:t.interval)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Repeat Interval"}),(0,a.jsx)("p",{children:i.repeating.interval})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Timezone"}),(0,a.jsx)("p",{children:i.repeating.timezone||"UTC"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Next Run"})]}),(0,a.jsx)("p",{children:u(i.nextRunAt)}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Last Run"})]}),(0,a.jsx)("p",{children:u(i.lastRunAt)}),i.failedAt&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ei.A,{className:"h-4 w-4 text-destructive"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Failed At"})]}),(0,a.jsx)("p",{children:u(i.failedAt)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Tags"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:null==(r=i.tags)?void 0:r.map(e=>(0,a.jsx)(_.E,{variant:"outline",children:e},e))})]})]})}),(0,a.jsx)(ee,{value:"data",children:(0,a.jsx)(et,{className:"h-[300px] rounded-md border p-4",children:(0,a.jsx)("pre",{className:"font-mono text-sm",children:JSON.stringify(i.data,null,2)})})}),(0,a.jsx)(ee,{value:"history",children:(0,a.jsx)("div",{className:"rounded-md border p-4",children:(0,a.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:"Job execution history will be displayed here."})})})]})]})}function ec(e){let{filters:s}=e,[t,r]=(0,n.useState)([]),[i,d]=(0,n.useState)(!0),[c,o]=(0,n.useState)(null),[x,u]=(0,n.useState)(!1),[m,j]=(0,n.useState)(!1),[p,f]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1),[b,N]=(0,n.useState)(1),[y,w]=(0,n.useState)(1),[A,C]=(0,n.useState)(0),k=async()=>{try{d(!0);let e=(await P.A.get("http://localhost:3000/api/jobs")).data.data.map(e=>({...e,tags:R(e)}));r(e||[]),C(e.length||0),w(Math.ceil((e.length||0)/10))}catch(e){console.error("Failed to fetch jobs:",e)}finally{d(!1),v(!1)}},R=e=>{let s=[];if(e.name.includes("email")&&s.push("email"),e.name.includes("notification")&&s.push("notification"),e.name.includes("report")&&s.push("report"),e.name.includes("backup")&&s.push("backup"),e.name.includes("sync")&&s.push("sync"),e.name.includes("clean")&&s.push("cleanup"),e.name.includes("import")&&s.push("import"),e.name.includes("export")&&s.push("export"),0===s.length){let e=["email","notification","report","backup","sync","cleanup","import","export"];s.push(e[Math.floor(Math.random()*e.length)])}return s};(0,n.useEffect)(()=>{k()},[]);let S=async e=>{try{await P.A.post("http://localhost:3000/api/jobs/".concat(e,"/run")),k()}catch(e){console.error("Failed to run job:",e)}},z=async(e,s)=>{try{await P.A.put("http://localhost:3000/api/jobs/".concat(e),{disabled:!s}),k()}catch(e){console.error("Failed to toggle job status:",e)}},F=async()=>{if(c)try{await P.A.delete("http://localhost:3000/api/jobs/".concat(c.id)),j(!1),k()}catch(e){console.error("Failed to delete job:",e)}},E=e=>{o(e),u(!0)},M=e=>{o(e),f(!0)},Q=async e=>{try{c?await P.A.put("http://localhost:3000/api/jobs/".concat(c.id),e):await P.A.post("http://localhost:3000/api/jobs",e),u(!1),k()}catch(e){console.error("Failed to save job:",e)}},X=t.filter(e=>{var t;if(s.search&&!e.name.toLowerCase().includes(s.search.toLowerCase())||e.disabled&&!s.status.disabled||e.failedAt&&!s.status.failed||e.nextRunAt&&!s.status.scheduled||!e.nextRunAt&&!e.failedAt&&!s.status.completed||e.priority<s.priority[0]||e.priority>s.priority[1])return!1;if(s.dateRange.from||s.dateRange.to){let t=e.nextRunAt?new Date(e.nextRunAt):null;if(s.dateRange.from&&t&&t<s.dateRange.from||s.dateRange.to&&t&&t>s.dateRange.to)return!1}return(!(s.tags.length>0)||!!(null==(t=e.tags)?void 0:t.some(e=>s.tags.includes(e))))&&(!(s.dataAttributes.length>0)||s.dataAttributes.every(s=>{if(!s.key||!s.value)return!0;let t=e.data;if(!t)return!1;let a=s.key.split("."),n=t;for(let e of a){if(null==n)return!1;n=n[e]}if(null==n)return!1;let l=String(n).toLowerCase(),r=s.value.toLowerCase();switch(s.operator){case"equals":return l===r;case"contains":return l.includes(r);case"startsWith":return l.startsWith(r);case"endsWith":return l.endsWith(r);default:return!1}}))}),Z=X.slice((b-1)*10,10*b),Y=e=>e.disabled?(0,a.jsx)(_.E,{variant:"outline",children:"Disabled"}):e.failedAt?(0,a.jsx)(_.E,{variant:"destructive",children:"Failed"}):e.nextRunAt?(0,a.jsx)(_.E,{variant:"secondary",children:"Scheduled"}):(0,a.jsx)(_.E,{children:"Completed"}),ee=e=>{if(!e)return"-";let s=new Date(e);return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,l.GP)(s,"MMM d, yyyy")}),(0,a.jsx)("span",{children:(0,l.GP)(s,"h:mm a")}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,L.m)(s,{addSuffix:!0})})]})};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Jobs"}),(0,a.jsxs)(h.$,{variant:"outline",size:"icon",onClick:()=>{v(!0),k()},disabled:g,children:[(0,a.jsx)(T.A,{className:"h-4 w-4 ".concat(g?"animate-spin":"")}),(0,a.jsx)("span",{className:"sr-only",children:"Refresh"})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(h.$,{onClick:()=>{o(null),u(!0)},children:[(0,a.jsx)(V.A,{className:"mr-2 h-4 w-4"}),"New Job"]})})]}),i?(0,a.jsx)(eo,{}):(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(D.XI,{children:[(0,a.jsx)(D.A0,{children:(0,a.jsxs)(D.Hj,{children:[(0,a.jsx)(D.nd,{children:"Name"}),(0,a.jsx)(D.nd,{children:"Next Run"}),(0,a.jsx)(D.nd,{children:"Last Run"}),(0,a.jsx)(D.nd,{children:"Status"}),(0,a.jsx)(D.nd,{children:"Priority"}),(0,a.jsx)(D.nd,{children:"Tags"}),(0,a.jsx)(D.nd,{className:"w-[100px]",children:"Actions"})]})}),(0,a.jsx)(D.BF,{children:0===Z.length?(0,a.jsx)(D.Hj,{children:(0,a.jsx)(D.nA,{colSpan:7,className:"h-24 text-center",children:"No jobs found."})}):Z.map(e=>{var s;return(0,a.jsxs)(D.Hj,{children:[(0,a.jsx)(D.nA,{className:"font-medium",children:e.name}),(0,a.jsx)(D.nA,{children:ee(e.nextRunAt)}),(0,a.jsx)(D.nA,{children:ee(e.lastRunAt)}),(0,a.jsx)(D.nA,{children:Y(e)}),(0,a.jsx)(D.nA,{children:e.priority}),(0,a.jsx)(D.nA,{children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:null==(s=e.tags)?void 0:s.map(e=>(0,a.jsx)(_.E,{variant:"outline",className:"text-xs",children:e},e))})}),(0,a.jsx)(D.nA,{children:(0,a.jsxs)(J.rI,{children:[(0,a.jsx)(J.ty,{asChild:!0,children:(0,a.jsxs)(h.$,{variant:"ghost",size:"icon",children:[(0,a.jsx)(W.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Actions"})]})}),(0,a.jsxs)(J.SQ,{align:"end",children:[(0,a.jsxs)(J._2,{onClick:()=>M(e),children:[(0,a.jsx)(G.A,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,a.jsxs)(J._2,{onClick:()=>S(e.id),children:[(0,a.jsx)(I.A,{className:"mr-2 h-4 w-4"}),"Run Now"]}),(0,a.jsx)(J._2,{onClick:()=>z(e.id,e.disabled),children:e.disabled?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(H.A,{className:"mr-2 h-4 w-4"}),"Enable"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q.A,{className:"mr-2 h-4 w-4"}),"Disable"]})}),(0,a.jsxs)(J._2,{onClick:()=>E(e),children:[(0,a.jsx)(U.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(J._2,{className:"text-destructive focus:text-destructive",onClick:()=>{o(e),j(!0)},children:[(0,a.jsx)(B.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id)})})]})}),X.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(b-1)*10+1," to ",Math.min(10*b,X.length)," of"," ",X.length," jobs"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h.$,{variant:"outline",size:"sm",onClick:()=>N(b-1),disabled:1===b,children:"Previous"}),(0,a.jsx)(h.$,{variant:"outline",size:"sm",onClick:()=>N(b+1),disabled:b===Math.ceil(X.length/10),children:"Next"})]})]}),(0,a.jsx)(O.lG,{open:x,onOpenChange:u,children:(0,a.jsxs)(O.Cf,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)(O.c7,{children:[(0,a.jsx)(O.L3,{children:c?"Edit Job":"Create New Job"}),(0,a.jsx)(O.rr,{children:c?"Update the job details below.":"Fill in the details to create a new scheduled job."})]}),(0,a.jsx)(K.W,{job:c,onSubmit:Q,onCancel:()=>u(!1)})]})}),(0,a.jsx)(O.lG,{open:p,onOpenChange:f,children:(0,a.jsxs)(O.Cf,{className:"sm:max-w-[700px]",children:[(0,a.jsxs)(O.c7,{children:[(0,a.jsx)(O.L3,{children:"Job Details"}),(0,a.jsx)(O.rr,{children:"Detailed information about the job"})]}),c&&(0,a.jsx)(ed,{job:c})]})}),(0,a.jsx)($.Lt,{open:m,onOpenChange:j,children:(0,a.jsxs)($.EO,{children:[(0,a.jsxs)($.wd,{children:[(0,a.jsx)($.r7,{children:"Are you sure?"}),(0,a.jsxs)($.$v,{children:['This will permanently delete the job "',null==c?void 0:c.name,'". This action cannot be undone.']})]}),(0,a.jsxs)($.ck,{children:[(0,a.jsx)($.Zr,{children:"Cancel"}),(0,a.jsx)($.Rx,{onClick:F,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function eo(){return(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(D.XI,{children:[(0,a.jsx)(D.A0,{children:(0,a.jsxs)(D.Hj,{children:[(0,a.jsx)(D.nd,{children:"Name"}),(0,a.jsx)(D.nd,{children:"Next Run"}),(0,a.jsx)(D.nd,{children:"Last Run"}),(0,a.jsx)(D.nd,{children:"Status"}),(0,a.jsx)(D.nd,{children:"Priority"}),(0,a.jsx)(D.nd,{children:"Tags"}),(0,a.jsx)(D.nd,{className:"w-[100px]",children:"Actions"})]})}),(0,a.jsx)(D.BF,{children:[,,,,,].fill(0).map((e,s)=>(0,a.jsxs)(D.Hj,{children:[(0,a.jsx)(D.nA,{children:(0,a.jsx)(M.E,{className:"h-5 w-[150px]"})}),(0,a.jsx)(D.nA,{children:(0,a.jsx)(M.E,{className:"h-10 w-[120px]"})}),(0,a.jsx)(D.nA,{children:(0,a.jsx)(M.E,{className:"h-10 w-[120px]"})}),(0,a.jsx)(D.nA,{children:(0,a.jsx)(M.E,{className:"h-5 w-[80px]"})}),(0,a.jsx)(D.nA,{children:(0,a.jsx)(M.E,{className:"h-5 w-[40px]"})}),(0,a.jsx)(D.nA,{children:(0,a.jsx)(M.E,{className:"h-5 w-[100px]"})}),(0,a.jsx)(D.nA,{children:(0,a.jsx)(M.E,{className:"h-8 w-8 rounded-full"})})]},s))})]})})}function ex(){let[e,s]=(0,n.useState)({search:"",status:{scheduled:!0,completed:!0,failed:!0,disabled:!0},priority:[0,20],dateRange:{from:void 0,to:void 0},tags:[],dataAttributes:[]}),[t,m]=(0,n.useState)(["email","notification","report","backup","sync","cleanup","import","export"]),[j,p]=(0,n.useState)(!0),y=e=>{s(s=>({...s,...e}))},k=(e,t)=>{s(s=>({...s,status:{...s.status,[e]:t}}))},z=e=>{s(s=>{let t=s.tags.includes(e)?s.tags.filter(s=>s!==e):[...s.tags,e];return{...s,tags:t}})},P=(e,t,a)=>{s(s=>{let n=[...s.dataAttributes];return n[e]={...n[e],[t]:a},{...s,dataAttributes:n}})},L=e=>{s(s=>{let t=[...s.dataAttributes];return t.splice(e,1),{...s,dataAttributes:t}})},D=+!!e.search+ +(Object.values(e.status).filter(e=>!e).length>0)+ +(e.priority[0]>0||e.priority[1]<20)+(e.dateRange.from||e.dateRange.to?1:0)+e.tags.length+e.dataAttributes.length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(h.$,{variant:"outline",size:"sm",className:"h-8 gap-1",onClick:()=>p(!j),children:[(0,a.jsx)(r.A,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{children:"Filters"}),D>0&&(0,a.jsx)(_.E,{variant:"secondary",className:"ml-1 rounded-full px-1",children:D}),j?(0,a.jsx)(i.A,{className:"ml-1 h-3.5 w-3.5"}):(0,a.jsx)(d.A,{className:"ml-1 h-3.5 w-3.5"})]}),D>0&&(0,a.jsx)(h.$,{variant:"ghost",size:"sm",onClick:()=>{s({search:"",status:{scheduled:!0,completed:!0,failed:!0,disabled:!0},priority:[0,20],dateRange:{from:void 0,to:void 0},tags:[],dataAttributes:[]})},className:"h-8",children:"Reset filters"})]}),(0,a.jsx)(F,{open:j,onOpenChange:p,children:(0,a.jsx)(E,{children:(0,a.jsxs)("div",{className:"grid gap-4 rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N.J,{htmlFor:"search",children:"Search"}),(0,a.jsx)(b.p,{id:"search",placeholder:"Search job name...",value:e.search,onChange:e=>y({search:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N.J,{children:"Status"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v.S,{id:"scheduled",checked:e.status.scheduled,onCheckedChange:e=>k("scheduled",!!e)}),(0,a.jsx)("label",{htmlFor:"scheduled",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Scheduled"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v.S,{id:"completed",checked:e.status.completed,onCheckedChange:e=>k("completed",!!e)}),(0,a.jsx)("label",{htmlFor:"completed",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Completed"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v.S,{id:"failed",checked:e.status.failed,onCheckedChange:e=>k("failed",!!e)}),(0,a.jsx)("label",{htmlFor:"failed",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Failed"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v.S,{id:"disabled",checked:e.status.disabled,onCheckedChange:e=>k("disabled",!!e)}),(0,a.jsx)("label",{htmlFor:"disabled",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Disabled"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(N.J,{children:"Priority"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.priority[0]," - ",e.priority[1]]})]}),(0,a.jsx)(R,{defaultValue:[0,20],min:0,max:20,step:1,value:e.priority,onValueChange:e=>y({priority:e})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N.J,{children:"Date Range"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)(w,{children:[(0,a.jsx)(A,{asChild:!0,children:(0,a.jsxs)(h.$,{variant:"outline",className:(0,f.cn)("justify-start text-left font-normal",!e.dateRange.from&&"text-muted-foreground"),children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4"}),e.dateRange.from?(0,l.GP)(e.dateRange.from,"PPP"):"From"]})}),(0,a.jsx)(C,{className:"w-auto p-0",children:(0,a.jsx)(g,{mode:"single",selected:e.dateRange.from,onSelect:s=>y({dateRange:{...e.dateRange,from:s}}),initialFocus:!0})})]}),(0,a.jsxs)(w,{children:[(0,a.jsx)(A,{asChild:!0,children:(0,a.jsxs)(h.$,{variant:"outline",className:(0,f.cn)("justify-start text-left font-normal",!e.dateRange.to&&"text-muted-foreground"),children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4"}),e.dateRange.to?(0,l.GP)(e.dateRange.to,"PPP"):"To"]})}),(0,a.jsx)(C,{className:"w-auto p-0",children:(0,a.jsx)(g,{mode:"single",selected:e.dateRange.to,onSelect:s=>y({dateRange:{...e.dateRange,to:s}}),initialFocus:!0})})]})]})]})]}),(0,a.jsx)(S.w,{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)(N.J,{children:"Tags"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(s=>(0,a.jsx)(_.E,{variant:e.tags.includes(s)?"default":"outline",className:"cursor-pointer",onClick:()=>z(s),children:s},s))})]}),(0,a.jsx)(S.w,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)(N.J,{children:"Data Attributes"})]}),(0,a.jsx)(h.$,{variant:"outline",size:"sm",onClick:()=>{s(e=>({...e,dataAttributes:[...e.dataAttributes,{key:"",value:"",operator:"equals"}]}))},children:"Add Filter"})]}),0===e.dataAttributes.length?(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Add filters to search for specific values in job data"}):(0,a.jsx)("div",{className:"space-y-3",children:e.dataAttributes.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.p,{placeholder:"Key",value:e.key,onChange:e=>P(s,"key",e.target.value),className:"w-1/3"}),(0,a.jsxs)("select",{value:e.operator,onChange:e=>P(s,"operator",e.target.value),className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[(0,a.jsx)("option",{value:"equals",children:"equals"}),(0,a.jsx)("option",{value:"contains",children:"contains"}),(0,a.jsx)("option",{value:"startsWith",children:"starts with"}),(0,a.jsx)("option",{value:"endsWith",children:"ends with"})]}),(0,a.jsx)(b.p,{placeholder:"Value",value:e.value,onChange:e=>P(s,"value",e.target.value),className:"w-1/3"}),(0,a.jsx)(h.$,{variant:"ghost",size:"icon",onClick:()=>L(s),className:"h-8 w-8",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})})]},s))})]})]})})})]}),(0,a.jsx)(ec,{filters:e})]})}},6037:(e,s,t)=>{"use strict";t.d(s,{w:()=>r});var a=t(5155);t(2115);var n=t(7489),l=t(3999);function r(e){let{className:s,orientation:t="horizontal",decorative:r=!0,...i}=e;return(0,a.jsx)(n.b,{"data-slot":"separator-root",decorative:r,orientation:t,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...i})}},9415:(e,s,t)=>{Promise.resolve().then(t.bind(t,26))}},e=>{var s=s=>e(e.s=s);e.O(0,[303,597,657,186,441,684,358],()=>s(9415)),_N_E=e.O()}]);